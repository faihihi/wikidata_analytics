<!DOCTYPE html>
<html>

<head lang="en">
  <meta charset="utf-8">
  <title>COMP5347 Group Project</title>
  <link rel="stylesheet" href="/css/style.css" />
  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <script type="text/javascript" src="/js/main.js"></script>

</head>

<body>
  <script type="text/javascript">
    var overallBarChart = <%- JSON.stringify(allResult.overallBarChart) %>;
    var overallPieChart = <%- JSON.stringify(allResult.overallPieChart) %>;
    var overallRevAdminType = <%- JSON.stringify(allResult.overallRevAdminType) %>;
  </script>

  <div id="overallSection">
    <h2>Overall Analytics</h2>
    <label>Number of Article:</label>
    <input id="number" type="text" name="title">
    <input id="numOfArticleSubmit" type="submit" value="Search">
    <div id="numHighLowResult">
      <p>Titles of 2 articles with highest number of revisions :<%= allResult.mostNumRev1%>, <%= allResult.mostNumRev2%></p>
      <p>Titles of 2 articles with lowest number of revisions : <%= allResult.leastNumRev1%>, <%= allResult.leastNumRev2%></p>
    </div>
    <p>The article edited by largest group of registered users : <%= allResult.largestRegUserRev%></p>
    <p>The article edited by smallest group of registered users : <%= allResult.smallestRegUserRev%></p>
    <p>The top 2 articles with the longest history (measured by age) : <%= allResult.longestHistory1%>, <%= allResult.longestHistory2%></p>
    <p>Article with the shortest history (measured by age) : <%= allResult.youngestHistory%></p>

    <div id="overallBarChartSec"></div>
    <div id="overallPieChartSec"></div>
  </div>

  <div id="individualSection">
    <h2>Individual Article Analytics</h2>
    <select id="selectArticle" name="article">
      <option>Choose an Article</option>
      <% for(var i = 0; i < allResult.articleDropDownList.length;i++){ %>
      <option value="<%=allResult.articleDropDownList[i]%>"><%=allResult.articleDropDownList[i]%></option>
      <% } %>
    </select>
    <input id="selectArticleSubmit" type="submit" value="Select">
    <div id="individualTitle">
      <input id="selectUserYrSubmit" type="submit" value="Submit" style="display:none;">
      <p id="errormsg" style="display:none;"></p>
    </div>
    <div id="individualTitleTop5BarChart"></div>
  </div>


  <div id="authorSection">
    <h2>Author Analytics</h2>
    <label>Input author's name:</label>
    <input id="selectAuthor" type="text">
    <input id="selectAuthorSubmit" type="submit" value="Submit">

    <div id="authorAnalyticsResult">
      <input id="selectAuthorArticleSubmit" type="submit" value="Submit" style="display:none;">
    </div>
  </div>

</body>

</html>
